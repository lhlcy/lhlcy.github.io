<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>前端-h5总结 | lhl博客</title>

  <!-- keywords -->
  
    <meta name="keywords" content="前端">
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="HTML5新一代web富客户端整体解决方案, 能做很好看的网页 PC,APP,weiChat端应用程序 一些游戏 

声明格式:&amp;lt;!doctype html&amp;gt;
语义化
新的特殊内容元素H5标签在IE8以下有兼容性问题:可以用html5shiv框架去解决;
cc:ie6
用div 还是html5的标签 看你自己 （保证用新的不会有问题）（看同事）
结构元素
- header">
<meta property="og:type" content="article">
<meta property="og:title" content="h5总结">
<meta property="og:url" content="http://yoursite.com/2015/12/05/h5总结/index.html">
<meta property="og:site_name" content="lhl博客">
<meta property="og:description" content="HTML5新一代web富客户端整体解决方案, 能做很好看的网页 PC,APP,weiChat端应用程序 一些游戏 

声明格式:&amp;lt;!doctype html&amp;gt;
语义化
新的特殊内容元素H5标签在IE8以下有兼容性问题:可以用html5shiv框架去解决;
cc:ie6
用div 还是html5的标签 看你自己 （保证用新的不会有问题）（看同事）
结构元素
- header">
<meta property="og:updated_time" content="2017-01-05T08:47:39.445Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="h5总结">
<meta name="twitter:description" content="HTML5新一代web富客户端整体解决方案, 能做很好看的网页 PC,APP,weiChat端应用程序 一些游戏 

声明格式:&amp;lt;!doctype html&amp;gt;
语义化
新的特殊内容元素H5标签在IE8以下有兼容性问题:可以用html5shiv框架去解决;
cc:ie6
用div 还是html5的标签 看你自己 （保证用新的不会有问题）（看同事）
结构元素
- header">
  
    <link rel="alternative" href="/atom.xml" title="lhl博客" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
      <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("your_app_id", "your_app_key");</script>
<script src="/js/Counter.js"></script>
  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="img/dad.jpeg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">lhl</a></h1>
		</hgroup>

		
		<p class="header-subtitle">有点小逗比</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/ajax请求简单认识/" style="font-size: 10px;">ajax请求简单认识</a> <a href="/tags/c33-动画-样式/" style="font-size: 10px;">c33 动画  样式</a> <a href="/tags/cookie-session-localStorage/" style="font-size: 10px;">cookie session localStorage</a> <a href="/tags/gulp-自动化打包工具/" style="font-size: 10px;">gulp 自动化打包工具</a> <a href="/tags/html5-标签/" style="font-size: 10px;">html5 标签</a> <a href="/tags/响应式开发，Bootstrap/" style="font-size: 10px;">响应式开发，Bootstrap</a> <a href="/tags/移动端/" style="font-size: 10px;">移动端</a> <a href="/tags/页面优化看法/" style="font-size: 10px;">页面优化看法</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/smackgg/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">true</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">lhl</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="img/dad.jpeg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">lhl</h1>
			</hgroup>
			
			<p class="header-subtitle">有点小逗比</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-h5总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/05/h5总结/" class="article-date">
  	<time datetime="2015-12-05T08:44:12.000Z" itemprop="datePublished">2015-12-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      h5总结
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html5-标签/">html5 标签</a></li></ul>
	</div>

        

        
          
<div class="counter-tag counter">
    <span id="/2015/12/05/h5总结/" class="leancloud_visitors post-title-link"
          style="font-size: 12px" data-flag-title="h5总结">
         &nbsp;
        view
    </span>
</div>

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h1><pre><code>新一代web富客户端整体解决方案, 能做很好看的网页 PC,APP,weiChat端应用程序 一些游戏 

声明格式:&lt;!doctype html&gt;
</code></pre><p><strong>语义化</strong></p>
<h2 id="新的特殊内容元素"><a href="#新的特殊内容元素" class="headerlink" title="新的特殊内容元素"></a>新的特殊内容元素</h2><pre><code>H5标签在IE8以下有兼容性问题:可以用html5shiv框架去解决;
cc:ie6
用div 还是html5的标签 看你自己 （保证用新的不会有问题）（看同事）
</code></pre><p><strong>结构元素</strong></p>
<pre><code>- header        
- nav 导航链接    
- aside 附属信息    
- section 分块        
- article 文档独立部分    
- footer 
</code></pre><p><strong>分组元素</strong></p>
<pre><code>- figure 和 figcaption
        定义独立的流内容    
- hgroup
        用于将多个标题组成一个标题组, 经常与h1~6组合使用, 放在header中.    
- hgroup 与 figcaption 组合使用
</code></pre><p><strong>页面交互元素</strong></p>
<pre><code>- details 和 summary    
        组合使用,当用户单击summary时,显示或隐藏details    
- progress    
        完成进度条:&lt;progress value=&quot;50&quot; max=&quot;100&quot;&gt;&lt;/progress&gt;    
- meter    
        用于表示指定范围内的数值,进度条
        &lt;meter value=&quot;85&quot; min=&quot;0&quot; max=&quot;100&quot; low=&quot;60&quot; high=&quot;80&quot; title=&quot;65分&quot; optimum=&quot;100&quot;&gt;65分&lt;/meter&gt;
</code></pre><p><strong>文本层次语义元素</strong></p>
<pre><code>- time 定义时间, 没有样式显示, 有助于机器识别 
- mark 高亮显示, 更随意灵活
- cite 引用标记
</code></pre><p><strong>全局属性</strong></p>
<pre><code>- draggable:true/false 定义元素是否可以拖动
- hidden:true/false
- spellcheck:true/false 输入框等拼写检查
- contenteditable 是否可编辑
</code></pre><h2 id="新的表单控件"><a href="#新的表单控件" class="headerlink" title="新的表单控件"></a>新的表单控件</h2><pre><code>键盘适配
- calendar
- date    
- time    
- image: 图像形式的提交按钮     
- email    
- url    
- tel    
- number    
- search
</code></pre><h2 id="表单属性"><a href="#表单属性" class="headerlink" title="表单属性"></a>表单属性</h2><pre><code>- placeholder    占位符    
- autofocus        自动获得焦点    
- multiple        多文件上传    
- required        必填项    
- pattern        自定义验证
</code></pre><h2 id="用于绘画的canvas元素"><a href="#用于绘画的canvas元素" class="headerlink" title="用于绘画的canvas元素"></a>用于绘画的canvas元素</h2><h2 id="用于媒介回放的video和audio元素"><a href="#用于媒介回放的video和audio元素" class="headerlink" title="用于媒介回放的video和audio元素"></a>用于媒介回放的video和audio元素</h2><p><strong>音频</strong></p>
<pre><code>&lt;audio src=&quot;&quot; controls autoplay loop&quot;&gt;
    &lt;source src=&quot;&quot;&gt;        //    备用格式
    &lt;source src=&quot;&quot;&gt;
&lt;/audio&gt;
</code></pre><p><strong>视频</strong></p>
<pre><code>&lt;video src=&quot;&quot; width=&quot;1000&quot;(占据尺寸拉伸,视频不会被拉伸) height=&quot;200&quot;&gt;
&lt;/video&gt;
</code></pre><p><strong>API</strong>    </p>
<pre><code>方法:    
        load()        // 
        play()        //    播放
        pause()        // 暂停
属性:
        currentSrc    //    获取路径
        currentTime    //    获取播放的时间
        duration    //    媒体总时间
事件:    
        ontimeupdate    //    播放时重复触发    
        onended            //    结束时触发
</code></pre><h2 id="H5-DOM扩展"><a href="#H5-DOM扩展" class="headerlink" title="H5 DOM扩展"></a>H5 DOM扩展</h2><p><strong>获取元素</strong></p>
<pre><code>一般用于移动端(不引用某库的时候):    

document.querySelector(&quot;.item&quot;);    一般用来获取id

document.querySelectorAll(&quot;.item&quot;);
</code></pre><p><strong>事件监听</strong></p>
<pre><code>addEventLinstener(&quot;click&quot;,function,false/true);
</code></pre><p><strong>类名操作</strong></p>
<pre><code>ele.classList    该类名的集合
ele.classList.remove(&apos;active&apos;);        删除
ele.classList.add(&apos;active&apos;);        添加
ele.classList.toggle(&apos;active&apos;);        切换
ele.classList.contains(&apos;active&apos;)    查询:返回boolean值
</code></pre><p><strong>自定义属性</strong>    </p>
<pre><code>用来定义一些和DOM强相关的数据, 一般用在一些JS特效 tab栏 轮播图 
    可以降低DOM之间的关联 降低耦合度
    写法 是data-属性名

&lt;a href=&quot;&quot; data-target=&quot;#target&quot;&gt;

获取自定义属性:
ele.getAttribute(&quot;&quot;);            效率低
ele.dataset[&quot;data-target&quot;];        获取不到/
ele.dataset[&quot;target&quot;];            H5方式, 不需要data-了 效率高

jQuery方法是ele.da
</code></pre><hr>
<p>ta(“”);</p>
<h2 id="新增API"><a href="#新增API" class="headerlink" title="新增API"></a>新增API</h2><p><strong>网络状态:</strong></p>
<pre><code>window.online;        网络连接时调用
window.offline;        网络断开时调用
</code></pre><p><strong>全屏:</strong>    </p>
<pre><code>node.requestFullScreen();    开启全屏显示
node.cancelFullScreen();    关闭全屏显示
兼容性问题:
node.webkitRequestFullScreen();
node.webkitCancelFullScreen();
    node.webkitIsFullScreen();

node.mozRequestFullScreen;
node.mozCancelFullScreen;
    node.mozFullScreen();

全屏伪类选择器
:full-screen .box {}、:-webkit-full-screen {}、:moz-full-screen {}
</code></pre><p><strong>拖拽:</strong>    八大事件 重点(dragstart dragover drop)</p>
<pre><code>拖拽物事件:
&lt;div draggable=&quot;true&quot;&gt;&lt;/div&gt;
div.addEventListener(&quot;drag&quot;,function(){})            拖拽中重复触发
div.addEventListener(&quot;dragstart&quot;,function(){})        开始时触发一次
div.addEventListener(&quot;dragleave&quot;,function(){})        拖拽中鼠标移出原范围是触发;
div.addEventListener(&quot;dragend&quot;,function(){})        结束时触发一次


目标物事件:
target.addEventListenr(&quot;dragenter&quot;,function(){})    鼠标移入目标范围时触发
target.addEventListenr(&quot;dragover&quot;,function(){})        鼠标在目标范围内是重复触发
target.addEventListenr(&quot;dragleave&quot;,function(){})    鼠标离开目标范围时触发一次
target.addEventListenr(&quot;drop&quot;,function(e){            在目标范围内松开鼠标时触发
    不能直接触发, 需要在拖拽过程中阻止拖拽的默认事件.
    e.preventDefault(); // 阻止默认事件
    e.dataTransfer.getData(&apos;Text&apos;);
    e.dataTransfer.getData(&apos;Text/uri-list&apos;);        只能获得图片地址
    do();
})    
div不能直接拖拽:
    1. div添加draggable属性
    2. div.dragstart设置event.dataTransfer.setData(key,div.id);
    3. target.drop事件 
        var id = e.dataTransfer.getData(key); 
        target.appendChild(document.querySelector(id))

    1. div默认不可以拖拽,需要设置draggable=&quot;true&quot;;
    2. 给目标注册drop事件,松开时把div添加到目标物里面
    3. drop事件默认不可触发,需要在dragover中阻止默认行为
    4. div默认不可拖拽,所以dataTransfer里面获取不到div的相关信息
    5. 就需要在div开始拖拽的时候给dataTransfer属性里面设置值(选择器)dataTransfer.setData(key,value);
    6. 在drop事件里面通过getData获取value,根据选择器获取到div元素,然后追加到目标中
</code></pre><p><strong>文件:</strong></p>
<pre><code>1. file 对象 在拖拽文件的时候e.dataTransfer.files[0]; 然后 input:file里面选择的文件也是file对象
2. fileReader实例 var reader = new fileReader(); 
3. 使用reader实例去读取文件 读取的方式有3种;
4. 读取的时候需要添加一个load读取完成事件才能拿到读取的结果 reader.result属性里面

var file = e.dataTransfer.files[0];    // 不加索引时,获得 FileList 文件集合数组对象 可用于多文件事件

FileReader 对象;
var reader = new FileReader;     //    实例化对象;

reader.readAsText(file);        //    读文本
reader.readAsDataURL(file);        //    读文件    需加入到对应标签内;
reader.readAsBinaryString(file);    // 二进制格式

reader.addEventListener(&apos;load&apos;,function(){
    target.innerHTML += reader.result;}
</code></pre><p><strong>地理位置:</strong></p>
<pre><code>1. 什么是地理定位: 就是获取你当前的位置
2. 为什么要学习地理定位: 可以做一些地图,或者购物设置收获地址,天气等等需要地址的地方等等
3. 如何学习地理定位:
    1. 获取当前位置API
        - navigator.geolocation.getCurrentPosition(callback)
        - 成功获取地理信息后,会调用successCallback,并返回包含位置信息的对象.
    2. 重复获取当前位置
        - navigator.geolocation.watchPosition(callback)
    3. 事件对象position对象
        - position.coords.latitude 纬度
        - position.coords.longitude 经度
4. 总结: 应用在一些地图 ,导航 天气等等一些地方 ,可以搭配百度地图做出很多功能

百度地图API:
var map = new BMap(&apos;allmap&apos;);    // 创建Map实例
map.centerAndZoom(new BMap.Point(113.90,22.57),20);    // 初始化地图
map.addControl(new BMap.MapTypeControl());            // 添加地图类型控件
map.setCurrentCity(city);                            // 设置地图显示的城市,必须
map.enableScrollWheelZoom(true);                    // 开启鼠标滚轮缩放

navigator.geolocation.watchPosition(successCallback,errorCallback,options)
成功获取地理信息后,会调用successCallback,并返回包含位置信息的对象.
</code></pre><p><strong>离线存储:</strong></p>
<pre><code>1. 什么是web存储: localStorage 本地存储 ,sessionStorage 会话存储
    可以存储一些网页上需要的数据
2. 为什么要学习web存储: 可以用来存储网页上的数据 要用到的时候直接渲染到页面上 提升网站性能,做到一些缓存的效果

3. 以后开发中一般用来存储一些不是很重要的用户信息,或者一些网站里面比较固定的内容 方便后续网站打开的速度,减轻服务器压力

永久存储:localStorage: 20M
window.localStorage.setItem(key,value);
window.localStorage.getItem(key);
window.localStorage.removeItem(key);
window.localStorage.clear();

临时存储session:        5M        关闭浏览器清除
window.sessionStorage.setItem(key,value);
window.sessionStorage.getItem(key);
window.sessionStorage.removeItem(key);
window.sessionStorage.clear();
</code></pre><p><strong>appCache 应用缓存</strong></p>
<pre><code>H5中我们可以轻松构建一个离线应用,只需要创建一个cache manifest文件
应用缓存: 就是可以实现无网络状态访问一个应用或者一个网站
优势:
    1. 可配置需要缓存的资源
    2. 网络无连接时应用仍可用
    3. 本地读取缓存资源,提升访问速度,增强用户体验
    4. 减少请求,缓解服务器负担

编写:
1. 设置缓存清单文件
    1. 在页面的html 节点添加&lt;html lang=&quot;en&quot; manifest=&quot;cache.manifest&quot;&gt; 保证文件在网页的旁边
2. manifest文件格式
    1. 顶部写 CACHE MANIFEST
    2. version: 1.0.0 指定缓存的版本 一旦版本更改了浏览器可以重新缓存 ,可以实现缓存的同步更新
    3. CACHE: 换行 tab 指定需要缓存的静态资源 如.css .js .html等
    4. NETWORK: 换行 tab 指定需要在线访问的资源 ,可使用通配符 * 等等
    5. FALLBACK: 换行 tab 当被缓存的文件找不到的备用资源

        CACHE MANIFEST

        # 注释内容

        version: 1.0.3
        # CACHE: 一定要记得带:冒号
        CACHE:
            index.html
            css/style.css
            js/index.js
</code></pre>
      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/02/19/移动web开发/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          移动web开发
        
      </div>
    </a>
  
  
    <a href="/2015/12/05/css3入门/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">css3入门</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="ds-share share" data-thread-key="h5总结" data-title="h5总结" data-url="http://yoursite.com/2015/12/05/h5总结/"  data-images="img/dad.jpeg" data-content="h5总结">
    <div class="ds-share-inline">
      <ul  class="ds-share-icons-16">
      	<li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
        <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
        <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
      </ul>
      <div class="ds-share-icons-more">
      </div>
    </div>
 </div>
 





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2017 lhl
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>